{"version":3,"file":"main.js","mappings":"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","sources":["webpack://cosmic_combat/./src/scripts/map.js","webpack://cosmic_combat/./src/scripts/projectile.js","webpack://cosmic_combat/./src/scripts/weapon1.js","webpack://cosmic_combat/./src/scripts/weapon2.js","webpack://cosmic_combat/./src/scripts/weapon3.js","webpack://cosmic_combat/./src/scripts/spaceship.js","webpack://cosmic_combat/./src/index.js","webpack://cosmic_combat/./src/scripts/game.js","webpack://cosmic_combat/./src/scripts/ui.js"],"sourcesContent":["class Map{\r\n    constructor(ctxTerrain, canTerrain){\r\n        this.ctx = ctxTerrain;\r\n        this.canvas = canTerrain;\r\n        this.img = new Image();\r\n        this.img.src = \"./assets/map_2.png\" \r\n        this.buffer = document.createElement('canvas');\r\n        this.buffer.width = this.canvas.width;\r\n        this.buffer.height = this.canvas.height;\r\n        this.windSpeed = Math.floor(Math.random()*(12 - 0) + 0);\r\n        this.windAngle = Math.random()*360;\r\n\r\n        this.img.onload = () => {\r\n            this.ctx.drawImage(this.img, 50, 320);\r\n            this.data = this.ctx.getImageData(0, 0, this.img.width, this.img.height);\r\n        };\r\n\r\n        this.weapon = null;\r\n        this.holes = [];\r\n    }\r\n\r\n    render(ctx){\r\n        if (this.data) this.ctx.putImageData(this.data, 0 , 0);\r\n        this.canvas.getContext('2d').drawImage(this.buffer, 0, 0);\r\n        if (this.weapon) {\r\n          this.ctx.globalCompositeOperation = 'destination-out';\r\n\r\n          this.ctx.strokeStyle = \"#000\";\r\n          this.ctx.beginPath();\r\n          this.ctx.arc(this.weapon.x, this.weapon.y, this.weapon.explosionRadius, 0, Math.PI*2);\r\n          this.ctx.fill();\r\n          this.weapon = null;\r\n          this.data = this.ctx.getImageData(0,0,this.img.width, this.img.height);\r\n          this.ctx.globalCompositeOperation = 'source-over';\r\n        }\r\n\r\n        document.getElementById('wind-text').innerHTML = `${this.windSpeed}`; //wind speed text\r\n\r\n        window.UI.ctx.beginPath(); // wind angle display \r\n        window.UI.ctx.arc(this.canvas.width/2, 45, 40, (-this.windAngle+10)*Math.PI/180, (-this.windAngle-10)*Math.PI/180, true);\r\n        window.UI.ctx.strokeStyle = 'rgba(255,0,0,255)';\r\n        window.UI.ctx.lineWidth = 10;\r\n        window.UI.ctx.stroke();\r\n        window.UI.ctx.closePath();\r\n        window.UI.ctx.lineWidth = 2;\r\n\r\n    }\r\n\r\n    changeWind(){\r\n        this.windSpeed = Math.floor(Math.random()*(12 - 0) + 0);\r\n        this.windAngle = Math.random()*360;\r\n    }\r\n\r\n}\r\n\r\nexport default Map","import Game from './game';\r\nimport UI from './ui';\r\nimport Map from './map';\r\n\r\nclass Projectile {\r\n    constructor(xPos, yPos, xVel, yVel, ctx, ctxTerrain){\r\n        this.x = xPos;\r\n        this.y = yPos + 10;\r\n        this.xVel = xVel;\r\n        this.yVel = yVel;\r\n        this.time = 0;\r\n        this.radius = 10;\r\n        this.ctx = ctx;\r\n        this.weight = 0.055;\r\n        this.damage = 150;\r\n        this.hitObject = null;\r\n        this.explosionRadius = 50;\r\n        this.ctxTerrain = ctxTerrain;\r\n        this.sprite = new Image();\r\n        this.sprite.src = './assets/small_blue_fireball.png'\r\n        this.windAngle = window.map.windAngle;\r\n        this.windSpeed = window.map.windSpeed;\r\n    }\r\n\r\n    render(ctx){\r\n    //spaceship collision\r\n        if (this.collisionCheck(this.x, this.y, this.radius*2, this.radius*2) === 'spaceship') {\r\n            window.game.removeObject(this);\r\n            window.map.weapon = this;\r\n            window.ctxText.font = \"20px sans-serif\";\r\n            window.ctxText.fillStyle = \"red\";\r\n            window.ctxText.fillText('-'+this.damage.toString(), this.x, this.y-20); //damage text\r\n    \r\n            if (this.hitObject.health > 0) {\r\n                this.hitObject.health -= this.damage; \r\n    \r\n                if (this.hitObject.health <= 0) { \r\n                    window.spaceShips.splice( \r\n                    window.spaceShips.indexOf(this.hitObject), 1\r\n                    );\r\n                    window.game.turnCounter--;\r\n                }\r\n                document.getElementById('overlay').classList.add('hidden'); \r\n        \r\n                window.game.time = window.game.TIMEOUT;\r\n                clearInterval(window.game.interval);\r\n                clearTimeout(window.game.timeout);\r\n                window.game.startTurns();\r\n            }\r\n    \r\n            window.setTimeout(() => { \r\n            window.ctxText.clearRect(0, 0, window.canText.width, window.canText.height);\r\n            this.hitObject = null;\r\n            }, 1250);\r\n    \r\n        //terrain collision\r\n        } else if (this.collisionCheck(this.x, this.y, this.radius*2, this.radius*2) === 'terrain') {\r\n          window.game.removeObject(this);\r\n          window.map.weapon = this;\r\n  \r\n          document.getElementById('overlay').classList.add('hidden'); \r\n  \r\n          window.game.time = window.game.TIMEOUT;\r\n          clearInterval(window.game.interval);\r\n          clearTimeout(window.game.timeout);\r\n          window.game.startTurns();\r\n    \r\n        //no collision\r\n        } else {\r\n          this.x += this.xVel + 0.02*this.windSpeed*Math.cos(this.windAngle*Math.PI/180)*this.time; //x coordinate\r\n          this.y += this.yVel + 0.5*this.weight*this.time*this.time - 0.02*this.windSpeed*Math.sin(this.windAngle*Math.PI/180)*this.time; //y-coordinate\r\n          ctx.beginPath(); \r\n          ctx.arc(this.x, this.y, this.radius, 0, 2*Math.PI);\r\n          ctx.drawImage(this.sprite, this.x, this.y)\r\n          ctx.closePath();\r\n          this.time += 0.5;\r\n        }\r\n\r\n    }\r\n\r\n    collisionCheck(x, y, width, height){\r\n        for (let i = 0; i < window.spaceShips.length; i++) {  \r\n            if (this.isCollidedWith(window.spaceShips[i])) {\r\n              this.hitObject = window.spaceShips[i];\r\n              return 'spaceship';\r\n            }\r\n          }\r\n      \r\n      \r\n          let array = [];\r\n          for (let i = 0; i < width; i++) {\r\n            for (let j = 0; j < height; j++) {\r\n              array.push([x+i, y+j]);\r\n            }\r\n          }\r\n      \r\n          for(let i = 0; i < array.length; i++) {\r\n            if (\r\n              this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[0] != 0 ||\r\n              this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[1] != 0 ||\r\n              this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[2] != 0 ||\r\n              this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[3] != 0\r\n            ) {\r\n              return 'terrain';\r\n            }\r\n          }\r\n          return false;\r\n\r\n    }\r\n\r\n    isCollidedWith(otherObject){\r\n        const x1 = this.x+this.radius;\r\n        const y1 = this.y+this.radius;\r\n        const x2 = otherObject.x+otherObject.width/2;\r\n        const y2 = otherObject.y+otherObject.height/2;\r\n\r\n        const r1 = this.radius;\r\n        const r2 = otherObject.radius;\r\n\r\n        if ((r1+r2) > Math.sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2)) ) {\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Projectile","import Projectile from './projectile';\r\nimport Game from './game';\r\nimport UI from './ui';\r\nimport Map from './map'\r\n\r\nclass Weapon1 extends Projectile {\r\n    constructor(xPos, yPos, xVel, yVel, ctx, ctxTerrain){\r\n        super(xPos, yPos, xVel, yVel, ctx, ctxTerrain);\r\n        // this.x = xPos;\r\n        // this.y = yPos + 10;\r\n        // this.xVel = xVel;\r\n        // this.yVel = yVel;\r\n        // this.time = 0;\r\n        // this.radius = 10;\r\n        // this.ctx = ctx;\r\n        // this.weight = 0.055;\r\n        // this.damage = 130;\r\n        // this.hitObject = null;\r\n        // this.explosionRadius = 50;\r\n        // this.ctxTerrain = ctxTerrain;\r\n        // this.color = 'rgb(0,255,0)' // change this to use a sprite\r\n        // this.windAngle = window.map.windAngle;\r\n        // this.windSpeed = window.map.windSpeed;\r\n    }\r\n\r\n}\r\n\r\nexport default Weapon1","import Projectile from './projectile';\r\nimport Game from './game';\r\nimport UI from './ui';\r\nimport Map from './map'\r\n\r\nclass Weapon2 extends Projectile {\r\n    constructor(xPos, yPos, xVel, yVel, ctx, ctxTerrain){\r\n        super(xPos, yPos, xVel, yVel, ctx, ctxTerrain);\r\n        this.sprite.src = \"./assets/30new.png\"\r\n        // this.x = xPos;\r\n        // this.y = yPos + 10;\r\n        // this.xVel = xVel;\r\n        // this.yVel = yVel;\r\n        // this.time = 0;\r\n        this.radius = 20;\r\n        // this.ctx = ctx;\r\n        // this.weight = 0.055;\r\n        this.damage = 100;\r\n        // this.hitObject = null;\r\n        this.explosionRadius = 100;\r\n        // this.ctxTerrain = ctxTerrain;\r\n        // // this.color = 'rgb(0,255,0)' // change this to use a sprite\r\n        // this.windAngle = window.map.windAngle;\r\n        // this.windSpeed = window.map.windSpeed;\r\n    }\r\n\r\n}\r\n\r\nexport default Weapon2","import Projectile from './projectile';\r\nimport Game from './game';\r\nimport UI from './ui';\r\nimport Map from './map'\r\n\r\nclass Weapon3 extends Projectile {\r\n    constructor(xPos, yPos, xVel, yVel, ctx, ctxTerrain){\r\n        super(xPos, yPos, xVel, yVel, ctx, ctxTerrain);\r\n        this.sprite.src = \"./assets/small_pink_fireball.png\"\r\n        // this.x = xPos;\r\n        // this.y = yPos + 10;\r\n        // this.xVel = xVel;\r\n        // this.yVel = yVel;\r\n        // this.time = 0;\r\n        this.radius = 10;\r\n        // this.ctx = ctx;\r\n        // this.weight = 0.055;\r\n        this.damage = 70;\r\n        // this.hitObject = null;\r\n        this.explosionRadius = 50;\r\n        // this.ctxTerrain = ctxTerrain;\r\n        // // this.color = 'rgb(0,255,0)' // change this to use a sprite\r\n        // this.windAngle = window.map.windAngle;\r\n        // this.windSpeed = window.map.windSpeed;\r\n    }\r\n\r\n}\r\n\r\nexport default Weapon3","import Weapon1 from './weapon1';\r\nimport Weapon2 from './weapon2';\r\nimport Weapon3 from './weapon3';\r\n\r\nclass SpaceShip {\r\n    constructor(username, xpos, ypos, ctx, ctxTerrain){\r\n        this.username = username;\r\n        this.x = xpos;\r\n        this.y = ypos;\r\n        this.ctx = ctx;\r\n        this.ctxTerrain = ctxTerrain;\r\n        this.width = 65;\r\n        this.height = 40;\r\n        this.maxHealth = 1000;\r\n        this.health = 1000;\r\n        this.currentWeapon = 1;\r\n        this.power = 0;\r\n        this.prevPower = 0;\r\n        this.velX = 0;\r\n        this.velY = 0;\r\n        this.prevAngle = 0;\r\n        this.maxAngle = 93;\r\n        this.minAngle = 37;\r\n        this.angle = Math.floor((this.maxAngle + this.minAngle)/2);\r\n        this.delay = 0; \r\n        this.distance = 0;\r\n        this.maxDistance = 80;\r\n        this.radius = this.width/2;\r\n        this.weapon3CD = 0;\r\n        if(this.x < 500){\r\n            this.face = \"right\";\r\n        } else{\r\n            this.face = \"left\";\r\n        }\r\n        // this.alive = true; \r\n        ctx.fillStyle = 'rgba(255,0,0,1)';\r\n        this.weaponSpeed = 0.25;\r\n\r\n\r\n        // sprites here\r\n        this.spriteLeft = new Image();\r\n        this.spriteLeft.src = './assets/spaceship2_left.png';\r\n        this.spriteRight = new Image();\r\n        this.spriteRight.src = './assets/spaceship2_right.png';\r\n\r\n        // Binding prototype methods\r\n        this.collisionCheck = this.collisionCheck.bind(this);\r\n        this.render = this.render.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.shoot = this.shoot.bind(this);\r\n        this.changeAngle = this.changeAngle.bind(this);\r\n        this.switchWeapon1 = this.switchWeapon1.bind(this);\r\n        this.switchWeapon2 = this.switchWeapon2.bind(this);\r\n        this.switchWeapon3 = this.switchWeapon3.bind(this);\r\n    }\r\n\r\n    draw(){\r\n        if ((Math.abs(this.x) > window.UI.canvas.width || Math.abs(this.y) > window.UI.canvas.height)) {\r\n            this.turnOver = true;\r\n          }\r\n\r\n        window.UI.ctx.fillStyle = 'rgba(255,0,0,1)'; //healthbar\r\n        window.UI.ctx.fillRect(this.x - 25, this.y+this.height+15, this.width+30, 4);\r\n        window.UI.ctx.fillStyle = 'rgba(0,255,0,1)';\r\n        window.UI.ctx.fillRect(this.x - 25, this.y+this.height+15, (this.width+30)*(this.health/this.maxHealth), 4);\r\n  \r\n        window.UI.ctx.font = \"14px sans-serif\"; //username\r\n        window.UI.ctx.fillStyle = 'white';\r\n        window.UI.ctx.fillText(this.username, this.x + 23, this.y+this.height+35);\r\n\r\n        if (this.face == 'right') { \r\n            this.ctx.drawImage(this.spriteRight, this.x - 25, this.y-25);\r\n     \r\n      \r\n            window.UI.ctx.beginPath(); //angle indicator right\r\n            window.UI.ctx.arc(this.x + 60, this.y, 50, (-this.angle+20)*Math.PI/180, (-this.angle-20)*Math.PI/180, true);\r\n            window.UI.ctx.strokeStyle = 'rgba(255,255,255,0.7)';\r\n            window.UI.ctx.stroke();\r\n            window.UI.ctx.closePath();\r\n      \r\n            window.UI.ctx.beginPath();\r\n            window.UI.ctx.arc(this.x + 60, this.y, 50, (-this.angle+5)*Math.PI/180, (-this.angle-5)*Math.PI/180, true);\r\n            window.UI.ctx.strokeStyle = 'rgba(255,0,0,0.7)';\r\n            window.UI.ctx.stroke();\r\n            window.UI.ctx.closePath();\r\n      \r\n            window.UI.ctx.beginPath();\r\n            window.UI.ctx.arc(this.x + 60, this.y, 45, (-this.angle+2)*Math.PI/180, (-this.angle-2)*Math.PI/180, true);\r\n            window.UI.ctx.strokeStyle = 'rgba(255,0,0,1)';\r\n            window.UI.ctx.stroke();\r\n            window.UI.ctx.closePath();\r\n\r\n      \r\n        } else if (this.face == 'left') {\r\n                this.ctx.drawImage(this.spriteLeft, this.x-10, this.y - 25);\r\n              \r\n        \r\n                window.UI.ctx.beginPath(); //angle indicator left\r\n                window.UI.ctx.arc(this.x+5, this.y, 50, (this.angle+20+180)*Math.PI/180, (this.angle-20+180)*Math.PI/180, true);\r\n                window.UI.ctx.strokeStyle = 'rgba(255,255,255,0.7)';\r\n                window.UI.ctx.stroke();\r\n                window.UI.ctx.closePath();\r\n        \r\n                window.UI.ctx.beginPath();\r\n                window.UI.ctx.arc(this.x+5, this.y, 50, (this.angle+5+180)*Math.PI/180, (this.angle-5+180)*Math.PI/180, true);\r\n                window.UI.ctx.strokeStyle = 'rgba(255,0,0,0.7)';\r\n                window.UI.ctx.stroke();\r\n                window.UI.ctx.closePath();\r\n        \r\n                window.UI.ctx.beginPath();\r\n                window.UI.ctx.arc(this.x+5, this.y, 45, (this.angle+2+180)*Math.PI/180, (this.angle-2+180)*Math.PI/180, true);\r\n                window.UI.ctx.strokeStyle = 'rgba(255,0,0,1)';\r\n                window.UI.ctx.stroke();\r\n                window.UI.ctx.closePath();\r\n      \r\n        }\r\n        this.ctx.restore();\r\n    }\r\n\r\n    render(ctx){\r\n        switch (this.currentWeapon) { \r\n            case 1:\r\n              document.getElementById('light1').style.background = 'rgb(0,255,0)';\r\n              document.getElementById('light2').style.background = 'rgb(60,60,60)';\r\n              document.getElementById('light3').style.background = 'rgb(60,60,60)';\r\n              break;\r\n            case 2:\r\n              document.getElementById('light2').style.background = 'rgb(0,255,0)';\r\n              document.getElementById('light1').style.background = 'rgb(60,60,60)';\r\n              document.getElementById('light3').style.background = 'rgb(60,60,60)';\r\n              break;\r\n            case 3:\r\n              document.getElementById('light3').style.background = 'rgb(255,0,0)';\r\n              document.getElementById('light1').style.background = 'rgb(60,60,60)';\r\n              document.getElementById('light2').style.background = 'rgb(60,60,60)';\r\n              break;\r\n          }\r\n          this.move();\r\n          this.draw();\r\n\r\n    }\r\n\r\n    collisionCheck(x, y, width, height){\r\n        let array = [];\r\n        for (let i = 0; i < width; i++) {\r\n            for (let j = 0; j < height; j++) {\r\n                array.push([x+i, y+j]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < array.length; i++) {\r\n            if (\r\n                this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[0] != 0 ||\r\n                this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[1] != 0 ||\r\n                this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[2] != 0 ||\r\n                this.ctxTerrain.getImageData(array[i][0],array[i][1],1,1).data[3] != 0\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\n    move(velX = 0, dir){\r\n        if (dir) { \r\n            this.distance++;\r\n            if (dir == 'left' && !this.collisionCheck(this.x-1, this.y, 1, this.height/1.5)) {\r\n              this.face = 'left';\r\n              if (this.distance < this.maxDistance) {\r\n                this.x += velX;\r\n                if (this.collisionCheck(this.x, this.y+this.height-1, this.width, 1)) {\r\n                  this.y -= 1;\r\n      \r\n                }\r\n              }\r\n            }\r\n            if (dir == 'right' && !this.collisionCheck(this.x+this.width+1, this.y, 1, this.height/1.5)) {\r\n              this.face = 'right';\r\n              if (this.distance < this.maxDistance) {\r\n                this.x += velX;\r\n                if (this.collisionCheck(this.x, this.y+this.height-1, this.width, 1)) {\r\n                  this.y -= 1;\r\n                }\r\n              }\r\n            }\r\n      \r\n      \r\n          } else { \r\n                this.x = this.x;\r\n                if (!this.collisionCheck(this.x, this.y+this.height+1, this.width, 1)) {\r\n                this.y += 6;\r\n                } else {\r\n                while (this.collisionCheck(this.x, this.y+this.height-1, this.width, 1)) {\r\n                    this.y -= 1;\r\n                }\r\n                }\r\n          }\r\n        \r\n    }\r\n\r\n    shoot(power){\r\n        this.turnOver = true;\r\n        if (this.currentWeapon === 1) {\r\n            this.delay += 100;\r\n        } else if (this.currentWeapon === 2) {\r\n            this.delay += 300;\r\n        } else if (this.currentWeapon === 3) {\r\n            this.delay += 1000;\r\n            this.weapon3CD = 3;\r\n            document.getElementById('overlay').classList.remove('hidden');\r\n        }\r\n        if (this.weapon3CD > 0){\r\n            this.weapon3CD--;\r\n        } \r\n        if (this.face === 'right') {\r\n            if (this.currentWeapon === 1) {\r\n                const weapon = new Weapon1(\r\n                this.x + this.width, \r\n                this.y-30, \r\n                power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                this.ctx,\r\n                this.ctxTerrain\r\n                );\r\n                return weapon;\r\n            } else if (this.currentWeapon === 2) {\r\n                const weapon = new Weapon2(\r\n                this.x+this.width,\r\n                this.y-15,\r\n                power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                this.ctx,\r\n                this.ctxTerrain\r\n                );\r\n                return weapon;\r\n            } else {\r\n                this.currentWeapon = 1;  \r\n                let counter = 0;\r\n                let arr = [];\r\n                while(counter < 5){\r\n                    const weapon = new Weapon3(\r\n                        this.x + this.width + Math.floor(Math.random() * (100 - 1) + 1),\r\n                        this.y - this.height - 20,\r\n                        power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                        -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                        this.ctx,\r\n                        this.ctxTerrain\r\n                        );\r\n                    arr.push(weapon);\r\n                    counter++;\r\n                }\r\n                return arr;\r\n            }\r\n        } else if (this.face === 'left') {\r\n            if (this.currentWeapon === 1) {\r\n                const weapon = new Weapon1(\r\n                this.x - this.width, \r\n                this.y-20,\r\n                -power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                this.ctx,\r\n                this.ctxTerrain\r\n                );\r\n                return weapon;\r\n            } else if (this.currentWeapon === 2) {\r\n                const weapon = new Weapon2(\r\n                this.x - this.width,\r\n                this.y-20,\r\n                -power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                this.ctx,\r\n                this.ctxTerrain\r\n                );\r\n                return weapon;\r\n            } else {\r\n                this.currentWeapon = 1;\r\n                let counter = 0;\r\n                let arr = [];\r\n                while(counter < 5){\r\n                    const weapon = new Weapon3(\r\n                        this.x + this.width + Math.floor(Math.random() * (-1 - -100) + -100),\r\n                        this.y - this.height - 20,\r\n                        -power*this.weaponSpeed*Math.cos(this.angle*Math.PI/180),\r\n                        -power*this.weaponSpeed*Math.sin(this.angle*Math.PI/180),\r\n                        this.ctx,\r\n                        this.ctxTerrain\r\n                        );\r\n                    arr.push(weapon);\r\n                    counter++;\r\n                }\r\n                return arr;\r\n            }\r\n        }\r\n    }\r\n\r\n    changeAngle(inc){\r\n        if (inc > 0){\r\n            if ((this.angle + inc) <= this.maxAngle){\r\n                this.prevAngle = this.angle;\r\n                this.angle += inc;\r\n            }\r\n        } else if (inc < 0){\r\n            if ((this.angle + inc) >= this.minAngle){\r\n                this.prevAngle = this.angle;\r\n                this.angle += inc;\r\n            }\r\n        }\r\n    }\r\n\r\n    switchWeapon1(e){\r\n        this.currentWeapon = 1;\r\n    }\r\n\r\n    switchWeapon2(e){\r\n        this.currentWeapon = 2;\r\n    }\r\n\r\n    switchWeapon3(e){\r\n        this.currentWeapon = 3; \r\n    }\r\n}\r\n\r\nexport default SpaceShip","import Game from './scripts/game';\r\nconst canvas = document.getElementById(\"canvas\")\r\nconst ctx = canvas.getContext(\"2d\")\r\nconst terrain = document.getElementById(\"terrain-canvas\")\r\nconst ctxTerrain = terrain.getContext(\"2d\")\r\nconst ui = document.getElementById(\"ui-canvas\")\r\nconst ctxUI = ui.getContext(\"2d\")\r\nconst canText = document.getElementById('text-canvas')\r\nconst ctxText = canText.getContext(\"2d\")\r\nconst background = document.getElementById(\"background\")\r\nconst ctxBG = background.getContext(\"2d\")\r\nconst startGameButton = document.getElementById(\"start-button\")\r\nconst instructionsButton = document.getElementById(\"instructions-button\")\r\nconst instructionsBack = document.getElementById(\"instructions-back\")\r\n\r\nlet game = new Game(canvas, ctx, ctxTerrain, terrain, canText, ctxText, background, ctxBG);\r\n\r\ngame.theme.play()\r\n\r\nconst muteButton = document.getElementById(\"muteButton\");\r\nconst unmuteButton = document.getElementById(\"unmuteButton\");\r\nunmuteButton.classList.add(\"hidden\");\r\nmuteButton.addEventListener(\"click\", () => {\r\n  // game.theme.muted = true;\r\n  // game.turn.muted = true;\r\n  // game.win.muted = true;\r\n  // game.wind.muted = true;\r\n  game.theme.volume = 0;\r\n  game.turn.volume = 0;\r\n  game.win.volume = 0;\r\n  game.wind.volume = 0;\r\n  unmuteButton.classList.remove(\"hidden\");\r\n  muteButton.classList.add(\"hidden\");\r\n});\r\nunmuteButton.addEventListener(\"click\", () => {\r\n  // game.theme.muted = false;\r\n  // game.turn.muted = false;\r\n  // game.win.muted = false;\r\n  // game.wind.muted = false;\r\n  game.theme.volume = 0.3;\r\n  game.turn.volume = 0.3;\r\n  game.win.volume = 0.3;\r\n  game.wind.volume = 0.3;\r\n  muteButton.classList.remove(\"hidden\");\r\n  unmuteButton.classList.add(\"hidden\");\r\n});\r\n\r\n\r\ninstructionsBack.addEventListener('click', instructionsBackMain);\r\n\r\nfunction instructionsBackMain(){\r\n  let instructions = document.getElementById(\"instructions\");\r\n  instructions.setAttribute(\"style\", \"display:none\");\r\n  let mainMenuDisplay = document.getElementById(\"main-menu\");\r\n  mainMenuDisplay.removeAttribute(\"style\");\r\n  let game = document.getElementById(\"game\");\r\n  game.setAttribute(\"style\", \"display:none\");\r\n}\r\n\r\ninstructionsButton.addEventListener('click', openInstructions);\r\n\r\nfunction openInstructions(){\r\n  let instructions = document.getElementById(\"instructions\");\r\n  instructions.removeAttribute(\"style\");\r\n  let mainMenuDisplay = document.getElementById(\"main-menu\");\r\n  mainMenuDisplay.setAttribute(\"style\", \"display:none\");\r\n}\r\n\r\nstartGameButton.addEventListener('click', startGame)\r\n\r\nfunction startGame(){\r\n  let gameDisplay = document.getElementById(\"game\");\r\n  gameDisplay.removeAttribute(\"style\");\r\n  let mainMenuDisplay = document.getElementById(\"main-menu\");\r\n  mainMenuDisplay.setAttribute(\"style\", \"display:none\");\r\n  \r\n  // new game was here\r\n  ctx.drawImage(background, 0, 0, canvas.width, canvas.height)\r\n  window.map = game.map;\r\n  let timer = document.createElement('div');\r\n  timer.id = 'main-timer';\r\n  document.getElementsByClassName('main')[0].insertBefore(timer, ui);\r\n  game.theme.play();  \r\n  game.startTurns();\r\n\r\n  const gameLoop = () => {\r\n    game.render();\r\n    if (window.spaceShips.length === 1) {\r\n      game.render();\r\n      game.gameOver(window.spaceShips[0]);\r\n    } else {\r\n      window.requestAnimationFrame(gameLoop);\r\n    }\r\n  };\r\n  window.requestAnimationFrame(gameLoop);\r\n}\r\n\r\n","import Map from './map'\r\nimport SpaceShip from './spaceship'\r\nimport UI from './ui'\r\n\r\n\r\n\r\nclass Game {\r\n    constructor(canvas, ctx, ctxTerrain, canTerrain, canText, ctxText, background, ctxBG){\r\n        this.canvas = canvas;\r\n        this.ctx = ctx;\r\n        this.ctxTerrain = ctxTerrain;\r\n        this.canTerrain = canTerrain;\r\n        this.background = background;\r\n        this.ctxBG = ctxBG;\r\n        this.map = new Map(this.ctxTerrain, this.canTerrain);\r\n        this.spaceship1 = new SpaceShip('Player 1', 80, -200, ctx, ctxTerrain);\r\n        this.spaceship2 = new SpaceShip('Player 2', 380, -200, ctx, ctxTerrain);\r\n        this.spaceship3 = new SpaceShip('Player 3', 750, -200, ctx, ctxTerrain);\r\n        this.spaceship4 = new SpaceShip('Player 4', 1050, -200, ctx, ctxTerrain);\r\n        this.currentPlayer = this.spaceship1;\r\n        this.TIMEOUT = 30;\r\n        this.time = 30;\r\n        this.turnCounter = 1;\r\n        this.roundCounter = 0;\r\n        this.objects = [];\r\n        this.UI = new UI(this);\r\n        this.backgroundImg = new Image();\r\n        this.backgroundImg.src = './assets/bg2.png'\r\n\r\n        this.bindKeyDown = this.bindKeyDown.bind(this);\r\n        this.bindKeyUp = this.bindKeyUp.bind(this);\r\n\r\n        window.game = this;\r\n        window.spaceShips = [this.spaceship1, this.spaceship2, this.spaceship3, this.spaceship4].sort(() => Math.random() - 0.5);\r\n        window.canText = canText;\r\n        window.ctxText = ctxText;\r\n\r\n        window.keyDown = window.addEventListener('keydown', this.bindKeyDown);\r\n        window.keyUp = window.addEventListener('keyup', this.bindKeyUp);\r\n\r\n        this.startTurns = this.startTurns.bind(this);\r\n        this.render = this.render.bind(this);\r\n\r\n\r\n        this.theme = document.createElement('audio');\r\n        this.theme.src = './assets/theme.mp3';\r\n        this.theme.id = 'theme';\r\n        this.theme.loop = true;\r\n        this.theme.volume = 0.3;\r\n        // this.theme.muted = true;\r\n\r\n        this.turn = document.createElement('audio');\r\n        this.turn.src = './assets/turn.mp3';\r\n        this.turn.id = 'turn';\r\n        this.turn.volume = 0.3;\r\n        // this.turn.muted = true;\r\n\r\n        this.win = document.createElement('audio');\r\n        this.win.src = './assets/win.mp3';\r\n        this.win.id = 'win';\r\n        this.win.volume = 0.3;\r\n        // this.win.muted = true;\r\n\r\n        this.wind = document.createElement('audio');\r\n        this.wind.src = './assets/wind.mp3';\r\n        this.wind.id = 'wind';\r\n        this.wind.volume = 0.3;\r\n        // this.wind.muted = true;\r\n    }\r\n\r\n    bindKeyDown(event){\r\n        const keyName = event.key;\r\n        if (keyName == 'a') this.currentPlayer.move(-1.5, 'left'); \r\n        if (keyName == 'd') this.currentPlayer.move(1.5, 'right');\r\n        if (keyName == 'w') this.currentPlayer.changeAngle(2);\r\n        if (keyName == 's') this.currentPlayer.changeAngle(-2);\r\n        if (keyName == ' ') {\r\n            event.preventDefault();\r\n            this.UI.startAdjustPower();\r\n        }\r\n\r\n    }\r\n\r\n    bindKeyUp(event){\r\n        const keyName = event.key;\r\n        if (keyName == ' ') this.UI.stopAdjustPower(this.currentPlayer);\r\n    }\r\n\r\n    addObject(obj){\r\n        if(obj instanceof Array){\r\n            this.objects = this.objects.concat(obj);\r\n        } else {\r\n            this.objects.push(obj)\r\n        }\r\n    }\r\n\r\n    removeObject(obj){\r\n        this.objects.splice(\r\n            this.objects.indexOf(obj), 1\r\n          );\r\n    }\r\n\r\n    render(){\r\n        this.ctx.clearRect(0,0,canvas.width, canvas.height);\r\n        \r\n        window.UI.ctx.clearRect(0,0,window.UI.canvas.width, window.UI.canvas.height);\r\n        this.ctxBG.drawImage(this.backgroundImg, 0, 0, this.canvas.width, this.canvas.height)\r\n        \r\n\r\n        window.map.render(this.ctxTerrain); //render terrain\r\n\r\n\r\n        if (window.spaceShips.length > 1) {\r\n            if(this.currentPlayer.face === \"right\"){\r\n                window.UI.ctx.fillStyle = 'rgba(220,190,90,1)'; //turn indicator\r\n                window.UI.ctx.fillRect(this.currentPlayer.x-15, this.currentPlayer.y-70, 30, 25);\r\n                window.UI.ctx.strokeStyle = 'rgba(0,0,0,1)';\r\n                window.UI.ctx.strokeRect(this.currentPlayer.x-15, this.currentPlayer.y-70, 30, 25);\r\n                window.UI.ctx.font = \"20px sans-serif\"; //timer text for currentPlayer\r\n                window.UI.ctx.fillStyle = 'white';\r\n                window.UI.ctx.textAlign = \"center\";\r\n                window.UI.ctx.fillText(this.time.toString(), this.currentPlayer.x, this.currentPlayer.y-51);\r\n\r\n            } else if (this.currentPlayer.face === \"left\"){\r\n                window.UI.ctx.fillStyle = 'rgba(220,190,90,1)'; //turn indicator\r\n                window.UI.ctx.fillRect(this.currentPlayer.x+33, this.currentPlayer.y-70, 30, 25);\r\n                window.UI.ctx.strokeStyle = 'rgba(0,0,0,1)';\r\n                window.UI.ctx.strokeRect(this.currentPlayer.x+33, this.currentPlayer.y-70, 30, 25);\r\n                window.UI.ctx.font = \"20px sans-serif\"; //timer text for currentPlayer\r\n                window.UI.ctx.fillStyle = 'white';\r\n                window.UI.ctx.textAlign = \"center\";\r\n                window.UI.ctx.fillText(this.time.toString(), this.currentPlayer.x+48, this.currentPlayer.y-51);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < window.spaceShips.length; i++) {\r\n            window.spaceShips[i].render(this.ctx, this.ctxTerrain);\r\n            if (window.spaceShips[i] && (Math.abs(window.spaceShips[i].x) > this.canvas.width || Math.abs(window.spaceShips[i].y) > this.canvas.height)) {\r\n                window.spaceShips.splice(i, 1);\r\n                clearInterval(window.game.interval);\r\n                clearTimeout(window.game.timeout);\r\n                window.game.startTurns();\r\n            }\r\n        }\r\n        for (let i = 0; i < this.objects.length; i++) {\r\n            this.objects[i].render(this.ctx);\r\n            if (this.objects[i] && (Math.abs(this.objects[i].x) > 1800 || Math.abs(this.objects[i].y) > 1800)) {\r\n                this.objects.splice(i, 1);\r\n\r\n                document.getElementById('overlay').classList.add('hidden'); //ss shot overlay\r\n\r\n                window.game.time = window.game.TIMEOUT;\r\n                clearInterval(this.interval);\r\n                clearTimeout(this.timeout);\r\n                this.startTurns();\r\n            }\r\n        }\r\n\r\n        document.getElementById('angle-display').innerHTML = this.currentPlayer.prevAngle;\r\n    }\r\n\r\n    \r\n\r\n    startTurns () {\r\n        this.turn.play(); \r\n        window.UI.disabled = false;\r\n        window.removeEventListener('keypress', this.shotKeys);\r\n        window.removeEventListener('keypress', this.shotKey3);\r\n        window.spaceShips.sort((a,b) => a.delay - b.delay)\r\n        if (this.currentPlayer === window.spaceShips[0] && window.spaceShips.length !== 2){\r\n            window.spaceShips.push(window.spaceShips.shift())\r\n        }\r\n        this.currentPlayer = window.spaceShips[0]; \r\n        this.currentPlayer.delay = 0;\r\n        this.currentPlayer.distance = 0;\r\n        document.getElementById('prev-power').style.left = `${this.currentPlayer.prevPower}px`;\r\n\r\n        const shotKey = (e) => { e.key;\r\n            if (e.key == '1') this.currentPlayer.switchWeapon1(); \r\n            if (e.key == '2') this.currentPlayer.switchWeapon2(); \r\n        };\r\n\r\n        const shotKey3 = (e) => {\r\n            const keyPress = e.key;\r\n            if (e.key == '3' && this.currentPlayer.weapon3CD <= 0) this.currentPlayer.switchWeapon3(); \r\n        };\r\n\r\n        if (this.roundCounter !== 0 && this.roundCounter % 3 === 0 && this.turnCounter === 1) { \r\n            this.wind.play(); \r\n            this.map.changeWind();\r\n        }\r\n\r\n\r\n        document.getElementById('turn-queue').innerHTML = '';\r\n        for (let i = 0; i < window.spaceShips.length; i++) { \r\n            let li = document.createElement('li');\r\n            li.innerHTML = `${window.spaceShips[i].username}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${window.spaceShips[i].delay}`;\r\n            document.getElementById('turn-queue').appendChild(li);\r\n        }\r\n\r\n        window.addEventListener('keypress', shotKey);\r\n        document.getElementById('weapon1').onclick = this.currentPlayer.switchWeapon1; \r\n        document.getElementById('weapon2').onclick = this.currentPlayer.switchWeapon2; \r\n        if (this.currentPlayer.weapon3CD <= 0) {\r\n            window.addEventListener('keypress', shotKey3);\r\n            document.getElementById('weapon3').onclick = this.currentPlayer.switchWeapon3; \r\n            document.getElementById('weapon3').style.background = 'rgb(246, 216, 89)'; \r\n        } else {\r\n            document.getElementById('weapon3').style.background = 'rgb(60,60,60)'; \r\n        }\r\n\r\n        this.currentPlayer.turnOver = false;\r\n\r\n        window.spaceShips.push(window.spaceShips.shift()); \r\n\r\n        if (this.turnCounter % window.spaceShips.length === 0) { \r\n            this.roundCounter++;\r\n            this.turnCounter = 1;\r\n\r\n        } else { \r\n            this.turnCounter++;\r\n        }\r\n\r\n\r\n        this.interval = setInterval (() => {\r\n        if (this.currentPlayer.turnOver) {\r\n            clearInterval(this.interval);\r\n            this.time = this.TIMEOUT;\r\n            clearTimeout(this.timeout);\r\n        } else {\r\n            this.time--;\r\n            document.getElementById('main-timer').innerHTML = this.time;\r\n        }\r\n        }, 1000);\r\n\r\n        this.timeout = setTimeout (() => {\r\n            this.time = this.TIMEOUT;\r\n            clearInterval(this.interval);\r\n            this.startTurns();\r\n        }, this.TIMEOUT*1000);\r\n\r\n        this.playerDecayInc();\r\n    }\r\n\r\n    playerDecayInc(){\r\n        window.spaceShips.forEach(spaceship => {\r\n            if(spaceship.delay > 100){\r\n                spaceship.delay -= 100;\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    gameOver(spaceship){\r\n        this.win.play();\r\n        this.theme.pause();\r\n        clearTimeout(this.timeout);\r\n        clearInterval(this.interval);\r\n        this.time = \"\";\r\n        window.UI.ctx.font = \"80px sans-serif\";\r\n        window.UI.ctx.fillStyle = 'red';\r\n        window.UI.ctx.fillText(`${spaceship.username} Wins!`, this.canvas.width/2, this.canvas.height/2-50);\r\n    }\r\n}\r\n\r\nexport default Game","import Game from './game'\r\n\r\nclass UI {\r\n    constructor(game){\r\n        this.game = game;\r\n        this.canvas = document.getElementById('ui-canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.ctx.fillStyle = 'white';\r\n        this.ctx.font = '20px sans-serif';\r\n        window.UI = this;\r\n        this.disabled = false;\r\n    }\r\n\r\n    startAdjustPower(){\r\n        if (!this.disabled) {\r\n            const power = document.getElementById('power-fill');\r\n            let width = parseInt(power.style.width.slice(0,-2));\r\n      \r\n            if (!this.interval) { \r\n              this.interval = setInterval(\r\n                () => {\r\n                  width = parseInt(power.style.width.slice(0,-2));\r\n                  if (width < 1000) power.style.width = (width + 5) + 'px';\r\n                }\r\n                , 6);\r\n            }\r\n        }\r\n      \r\n    }\r\n\r\n    stopAdjustPower(spaceship){\r\n        if (!this.disabled) {\r\n            window.UI.disabled = true;\r\n            clearInterval(this.interval);\r\n            this.interval = null;\r\n            const bar = document.getElementById('power-fill');\r\n            const fullBar = document.getElementById('power-container');\r\n            let power = 100 * (parseInt(bar.style.width.slice(0,-2)) / parseInt(fullBar.style.width.slice(0,-2)));\r\n            spaceship.prevPower = power/100 * 1000;\r\n            setTimeout(() => {\r\n              bar.style.width = '5px';\r\n              this.game.addObject(spaceship.shoot(power));\r\n            }, 100);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default UI"],"names":["constructor","xPos","yPos","xVel","yVel","ctx","ctxTerrain","this","x","y","time","radius","weight","damage","hitObject","explosionRadius","sprite","Image","src","windAngle","window","map","windSpeed","render","collisionCheck","game","removeObject","weapon","ctxText","font","fillStyle","fillText","toString","health","spaceShips","splice","indexOf","turnCounter","document","getElementById","classList","add","TIMEOUT","clearInterval","interval","clearTimeout","timeout","startTurns","setTimeout","clearRect","canText","width","height","Math","cos","PI","sin","beginPath","arc","drawImage","closePath","i","length","isCollidedWith","array","j","push","getImageData","data","otherObject","x1","y1","x2","y2","sqrt","Projectile","super","username","xpos","ypos","maxHealth","currentWeapon","power","prevPower","velX","velY","prevAngle","maxAngle","minAngle","angle","floor","delay","distance","maxDistance","weapon3CD","face","weaponSpeed","spriteLeft","spriteRight","bind","draw","shoot","changeAngle","switchWeapon1","switchWeapon2","switchWeapon3","abs","UI","canvas","turnOver","fillRect","strokeStyle","stroke","restore","style","background","move","dir","remove","Weapon1","Weapon2","counter","arr","Weapon3","random","inc","e","getContext","terrain","ui","ctxBG","startGameButton","instructionsButton","instructionsBack","canTerrain","img","buffer","createElement","onload","holes","putImageData","globalCompositeOperation","fill","innerHTML","lineWidth","changeWind","spaceship1","SpaceShip","spaceship2","spaceship3","spaceship4","currentPlayer","roundCounter","objects","disabled","startAdjustPower","parseInt","slice","setInterval","stopAdjustPower","spaceship","bar","fullBar","addObject","backgroundImg","bindKeyDown","bindKeyUp","sort","keyDown","addEventListener","keyUp","theme","id","loop","volume","turn","win","wind","event","keyName","key","preventDefault","obj","Array","concat","strokeRect","textAlign","play","removeEventListener","shotKeys","shotKey3","a","b","shift","left","li","appendChild","onclick","playerDecayInc","forEach","gameOver","pause","muteButton","unmuteButton","setAttribute","removeAttribute","timer","getElementsByClassName","insertBefore","gameLoop","requestAnimationFrame"],"sourceRoot":""}